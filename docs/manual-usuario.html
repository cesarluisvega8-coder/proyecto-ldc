<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Manual de Usuario — Solanlyze</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/metricStyles.css">
  <style>
    .manual h2, .manual h3 { scroll-margin-top: 90px; }
    .manual .lead { font-size: 1.02rem; }
    .manual .card { border-radius: 1rem; }
    .manual .toc a { text-decoration: none; }
  </style>
</head>
<body>
  <div class="container py-4 manual">
    <div class="text-center mb-4">
      <h1 class="mb-1">Manual de Usuario</h1>
      <p class="lead text-muted mb-0">Guía rápida para usar Solanlyze</p>
    </div>

    <div class="card p-3 mb-4">
      <h5 class="mb-2">Contenido</h5>
      <div class="toc small">
        <a href="#requisitos">• Requisitos</a><br>
        <a href="#tema">• Tema claro/oscuro</a><br>
        <a href="#chatbot">• Chatbot</a><br>
        <a href="#ingreso">• Ingreso de datos</a><br>
        <a href="#flujo">• Flujo de ejemplo</a><br>
        <a href="#tabla">• Tabla de datos</a><br>
        <a href="#visualizaciones">• Visualizaciones</a><br>
        <a href="#perfil">• Métricas por perfil horario</a><br>
        <a href="#exportaciones">• Exportaciones</a><br>
        <a href="#consejos">• Consejos</a><br>
        <a href="#soporte">• Solución de problemas</a>
      </div>
    </div>

    <div id="requisitos" class="card p-3 mb-3">
      <h2 class="h4">Requisitos</h2>
      <ul class="mb-0">
        <li><strong>Navegador:</strong> Chrome, Edge o Firefox actualizados.</li>
        <li><strong>Acceso web:</strong> abre la app desde un sitio (ej. GitHub Pages). Evita abrir como archivo local.</li>
      </ul>
    </div>

    <div id="tema" class="card p-3 mb-3">
      <h2 class="h4">Tema claro/oscuro</h2>
      <ul class="mb-0">
        <li><strong>Cambia de tema</strong> con el botón del encabezado (sol/luna).</li>
        <li>Las gráficas se redibujan automáticamente para mantener el <strong>contraste</strong>.</li>
      </ul>
    </div>

    <div id="chatbot" class="card p-3 mb-3">
      <h2 class="h4">Chatbot</h2>
      <p class="mb-0">Puedes usar el chatbot con IA (abajo a la derecha) para obtener ayuda con el funcionamiento de la app.</p>
    </div>

    <div id="ingreso" class="card p-3 mb-3">
      <h2 class="h4">Ingreso de datos</h2>
      <p class="mb-2">Puedes usar cualquiera de estos métodos, no son dependientes entre sí.</p>
      <ul class="mb-0">
        <li><strong>Datos de ejemplo:</strong> presiona “✨ Datos de ejemplo” para cargar datos rápidos y comprobar el funcionamiento.</li>
        <li><strong>Desde Excel:</strong> detecta horas y une rangos contiguos (incluye cruces de medianoche). Puedes usar la plantilla para cargar tus datos.</li>
        <li><strong>Ingreso manual:</strong> escribe nombre y potencia, pulsa “Agregar” y define horarios en el pop‑up.</li>
        <li><strong>Electrodomésticos rápidos:</strong> elige de la galería, ajusta potencia/cantidad y define horarios.</li>
      </ul>
    </div>

    <div id="flujo" class="card p-3 mb-3">
      <h2 class="h4">Flujo de ejemplo</h2>
      <ol class="mb-0">
        <li><strong>Descarga la plantilla</strong> con “📄 Descargar plantilla”.</li>
        <li><strong>Completa el Excel</strong> con nombre, potencia (W) y marca horas 0–23 con 1, x u on.</li>
        <li><strong>Carga tu archivo</strong> y pulsa “Cargar archivo”.</li>
        <li><strong>Genera las gráficas</strong> con “Generar métricas y gráficas”.</li>
      </ol>
    </div>

    <div id="tabla" class="card p-3 mb-3">
      <h2 class="h4">Tabla de datos</h2>
      <ul class="mb-0">
        <li><strong>Edición:</strong> cambia “Carga” y “Potencia (W)” directamente.</li>
        <li><strong>Horarios:</strong> texto de rangos si existen; listas desplegables si hay inicio/fin; en blanco si no hay horario.</li>
        <li><strong>Acciones:</strong> ✏️ para editar rangos; 🗑 para eliminar.</li>
      </ul>
    </div>

    <div id="visualizaciones" class="card p-3 mb-3">
      <h2 class="h4">Visualizaciones</h2>
      <p class="mb-2"><strong>Una vez tengas tus datos cargados</strong> presiona “Generar métricas y gráficas”.</p>
      <h3 class="h6 mt-2">Cuadro de carga (LDC)</h3>
      <p class="mb-2">Día: curva con potencias ordenadas por duración. Mes: barras de energía estimada.</p>
      <h3 class="h6">Mapa de calor</h3>
      <p class="mb-2">Día: potencia por carga a lo largo de 24 horas. Mes: energía mensual estimada.</p>
      <h3 class="h6">Consumo temporal</h3>
      <ul>
        <li><strong>Suma por hora:</strong> línea con consumo horario.</li>
        <li><strong>Series por carga:</strong> una línea por carga (usa “Top N” para limitar cuántas se ven).</li>
      </ul>
      <p class="mb-0"><strong>Controles:</strong> “Por día”/“Por mes” y, en “Consumo temporal”, “Modo” y “Top N”.</p>
    </div>

    <div id="perfil" class="card p-3 mb-3">
      <h2 class="h4">Métricas por perfil horario</h2>
      <ul class="mb-0">
        <li><strong>Perfiles:</strong> Día (06:00–17:59), Noche (18:00–05:59) o Personalizado.</li>
        <li><strong>Generar:</strong> pulsa “Generar métricas por perfil”.</li>
        <li><strong>Resultados:</strong> LDC, Consumo temporal y Mapa de calor filtrados; resumen con energía total, potencia media y pico.</li>
      </ul>
    </div>

    <div id="exportaciones" class="card p-3 mb-3">
      <h2 class="h4">Exportaciones</h2>
      <ul class="mb-0">
        <li><strong>PNG (gráfica visible):</strong> en “📈 Visualizaciones”, exporta la pestaña que estás viendo.</li>
        <li><strong>Perfil horario:</strong> PNG combinado o PDF con las tres visualizaciones del perfil.</li>
        <li><strong>Informe PDF completo:</strong> incluye portada, tabla de cargas y gráficas principales.</li>
      </ul>
      <p class="small text-muted mb-0">Las exportaciones usan fondo blanco para mayor contraste.</p>
    </div>

    <div id="tema" class="card p-3 mb-3">
      <h2 class="h4">Tema claro/oscuro</h2>
      <p class="mb-0">Cambia el tema con el botón del encabezado. Las gráficas se redibujan automáticamente para mantener buen contraste. Si no se actualizan al instante, vuelve a pulsar “Generar métricas y gráficas”.</p>
    </div>

    <div id="consejos" class="card p-3 mb-3">
      <h2 class="h4">Consejos</h2>
      <ul class="mb-0">
        <li><strong>Plantilla:</strong> marca horas con 1, x u on en columnas 0–23.</li>
        <li><strong>Sin horarios:</strong> la celda queda en blanco; puedes definirlos luego con ✏️.</li>
        <li><strong>Exportar:</strong> asegúrate de que la gráfica esté dibujada y la pestaña activa.</li>
        <li><strong>Rendimiento:</strong> usa “Top N” en “Series por carga” si tienes muchas cargas.</li>
      </ul>
    </div>

    <div id="soporte" class="card p-3 mb-4">
      <h2 class="h4">Solución de problemas</h2>
      <ul class="mb-0">
        <li><strong>No descarga la plantilla:</strong> abre la app desde una dirección web (no como archivo local).</li>
        <li><strong>No carga el Excel:</strong> verifica encabezados y que estén las columnas de horas (0–23).</li>
        <li><strong>No aparece la gráfica o bajo contraste:</strong> pulsa “Generar métricas y gráficas” o cambia de pestaña y vuelve.</li>
      </ul>
    </div>
  </div>
</body>
</html>